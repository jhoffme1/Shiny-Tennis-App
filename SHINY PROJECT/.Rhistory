setwd("C:/Users/jhoff/Desktop/Shiny Data Ideas/Tennis Stats/SHINY DATA TO USE/Betting odds data")
file_names = list.files(path= "./Aussie Open/", pattern = '*.csv', all.files= FALSE,
full.names= FALSE, recursive= FALSE,
ignore.case= FALSE, include.dirs = FALSE, no..= FALSE)
file_names = lapply(file_names, function(x){paste0('./Aussie Open/', x)})
file_names
Aussie = lapply(file_names, read.csv)
View(Aussie)
file_namesF = list.files(path= "./French Open/", pattern = '*.csv', all.files= FALSE,
full.names= FALSE, recursive= FALSE,
ignore.case= FALSE, include.dirs = FALSE, no..= FALSE)
file_namesF = lapply(file_namesF, function(x){paste0('./French Open/', x)})
file_namesF
French = lapply(file_namesF, read.csv)
file_namesW = list.files(path= "./Wimbledon/", pattern = '*.csv', all.files= FALSE,
full.names= FALSE, recursive= FALSE,
ignore.case= FALSE, include.dirs = FALSE, no..= FALSE)
file_namesW = lapply(file_namesW, function(x){paste0('./Wimbledon/', x)})
file_namesW
Wimbledon = lapply(file_namesW, read.csv)
file_namesU = list.files(path= "./US Open/", pattern = '*.csv', all.files= FALSE,
full.names= FALSE, recursive= FALSE,
ignore.case= FALSE, include.dirs = FALSE, no..= FALSE)
file_namesU = lapply(file_namesU, function(x){paste0('./US Open/', x)})
file_namesU
US = lapply(file_namesU, read.csv)
Aussie_new= lapply(Aussie, function(x) x[(names(x) %in% c("Location", "Date", "Round", "Winner", "Loser", "B365W", "B365L"))])
French_new= lapply(French, function(x) x[(names(x) %in% c("Location", "Date", "Round", "Winner", "Loser", "B365W", "B365L"))])
Wimbledon_new= lapply(Wimbledon, function(x) x[(names(x) %in% c("Location", "Date", "Round", "Winner", "Loser", "B365W", "B365L"))])
US_new= lapply(US, function(x) x[(names(x) %in% c("Location", "Date", "Round", "Winner", "Loser", "B365W", "B365L"))])
View(US_new)
View(Wimbledon_new)
View(French_new)
View(Aussie_new)
combined_bet= rbind(US_new, Wimbledon_new, French_new, Aussie_new)
combined_bet= rbind(Wimbledon_new, French_new, Aussie_new)
View(combined_bet)
merge(combined_bet, US_new)
Uh= merge(combined_bet, US_new)
View(Uh)
rbind(combined_bet, US_new)
setwd("C:/Users/jhoff/Desktop/Shiny Data Ideas/Tennis Stats/SHINY DATA TO USE/Betting odds data")
file_names = list.files(path= "./Aussie Open/", pattern = '*.csv', all.files= FALSE,
full.names= FALSE, recursive= FALSE,
ignore.case= FALSE, include.dirs = FALSE, no..= FALSE)
file_names = lapply(file_names, function(x){paste0('./Aussie Open/', x)})
file_names
Aussie = lapply(file_names, read.csv)
file_namesF = list.files(path= "./French Open/", pattern = '*.csv', all.files= FALSE,
full.names= FALSE, recursive= FALSE,
ignore.case= FALSE, include.dirs = FALSE, no..= FALSE)
file_namesF = lapply(file_namesF, function(x){paste0('./French Open/', x)})
file_namesF
French = lapply(file_namesF, read.csv)
file_namesW = list.files(path= "./Wimbledon/", pattern = '*.csv', all.files= FALSE,
full.names= FALSE, recursive= FALSE,
ignore.case= FALSE, include.dirs = FALSE, no..= FALSE)
file_namesW = lapply(file_namesW, function(x){paste0('./Wimbledon/', x)})
file_namesW
Wimbledon = lapply(file_namesW, read.csv)
file_namesU = list.files(path= "./US Open/", pattern = '*.csv', all.files= FALSE,
full.names= FALSE, recursive= FALSE,
ignore.case= FALSE, include.dirs = FALSE, no..= FALSE)
file_namesU = lapply(file_namesU, function(x){paste0('./US Open/', x)})
file_namesU
US = lapply(file_namesU, read.csv)
Aussie_new= lapply(Aussie, function(x) x[(names(x) %in% c("Location", "Date", "Round", "Winner", "Loser", "B365W", "B365L"))])
French_new= lapply(French, function(x) x[(names(x) %in% c("Location", "Date", "Round", "Winner", "Loser", "B365W", "B365L"))])
Wimbledon_new= lapply(Wimbledon, function(x) x[(names(x) %in% c("Location", "Date", "Round", "Winner", "Loser", "B365W", "B365L"))])
US_new= lapply(US, function(x) x[(names(x) %in% c("Location", "Date", "Round", "Winner", "Loser", "B365W", "B365L"))])
combined_bet= rbind(US_new, Wimbledon_new, French_new, Aussie_new)
combined_bet
combined_list= rbind(US_new, Wimbledon_new, French_new, Aussie_new)
View(combined_list)
View(combined_list[[9]])
paste(combined_list$Winner, combined$Loser)
paste(combined_list$Winner, combined_list$Loser)
paste(combined_list$Winner, "+", combined_list$Loser)
merge(Winner, Loser)
merge(Winner, Loser)
library(dplyr)
unite(combined_list, Winner, Loser)
library(tidyr)
unite(combined_list, Winner, Loser)
unite(combined_list[[1]], Winner, Loser)
View(combined_list[[1]])
View(combined_list[[1]])
View(combined_list[[1]])
saveRDS(all_dfs, file = './bail_out/US_new.RDS')
saveRDS(US_new, file = './bail_out/US_new.RDS')
View(combined_list)
library(readr)
MyData <- read_csv("C:/Users/jhoff/Desktop/Shiny Data Ideas/SHINY PROJECT/MyData.csv")
View(MyData)
View(combined_list[[1]])
a= unite(combined[[1]], Winner, Loser)
a= unite(combined_list[[1]], Winner, Loser)
View(a)
library(readr)
MyData <- read_csv("C:/Users/jhoff/Desktop/Shiny Data Ideas/SHINY PROJECT/MyData.csv")
View(MyData)
View(combined_list[[1]])
View(combined_list[[9]])
combined_list
View(combined_list[[68]])
View(combined_list[[44]])
View(combined_list[[1]])
left_join(MyData, [[1]], by= c("Winner"= "name"))
left_join(MyData, combined_list[[1]], by= c("Winner"= "name"))
View(combined_list[[1]])
merge(MyData, combined_list[[1]])
View(A)
A= merge(MyData, combined_list[[1]])
View(A)
AA= A %>% distinct()
View(AA)
View(A)
AA= A %>% distinct()
View(AA)
A %>% distinct()
setwd("C:/Users/jhoff/Desktop/Shiny Data Ideas/Tennis Stats/SHINY DATA TO USE/Betting odds data")
library(dplyr)
library(tidyr)
file_names = list.files(path= "./Aussie Open/", pattern = '*.csv', all.files= FALSE,
full.names= FALSE, recursive= FALSE,
ignore.case= FALSE, include.dirs = FALSE, no..= FALSE)
file_names = lapply(file_names, function(x){paste0('./Aussie Open/', x)})
file_names
Aussie = lapply(file_names, read.csv)
file_namesF = list.files(path= "./French Open/", pattern = '*.csv', all.files= FALSE,
full.names= FALSE, recursive= FALSE,
ignore.case= FALSE, include.dirs = FALSE, no..= FALSE)
file_namesF = lapply(file_namesF, function(x){paste0('./French Open/', x)})
file_namesF
French = lapply(file_namesF, read.csv)
file_namesW = list.files(path= "./Wimbledon/", pattern = '*.csv', all.files= FALSE,
full.names= FALSE, recursive= FALSE,
ignore.case= FALSE, include.dirs = FALSE, no..= FALSE)
file_namesW = lapply(file_namesW, function(x){paste0('./Wimbledon/', x)})
file_namesW
Wimbledon = lapply(file_namesW, read.csv)
file_namesU = list.files(path= "./US Open/", pattern = '*.csv', all.files= FALSE,
full.names= FALSE, recursive= FALSE,
ignore.case= FALSE, include.dirs = FALSE, no..= FALSE)
file_namesU = lapply(file_namesU, function(x){paste0('./US Open/', x)})
file_namesU
US = lapply(file_namesU, read.csv)
Aussie_new= lapply(Aussie, function(x) x[(names(x) %in% c("Location", "Date", "Round", "Winner", "Loser", "B365W", "B365L"))])
French_new= lapply(French, function(x) x[(names(x) %in% c("Location", "Date", "Round", "Winner", "Loser", "B365W", "B365L"))])
Wimbledon_new= lapply(Wimbledon, function(x) x[(names(x) %in% c("Location", "Date", "Round", "Winner", "Loser", "B365W", "B365L"))])
US_new= lapply(US, function(x) x[(names(x) %in% c("Location", "Date", "Round", "Winner", "Loser", "B365W", "B365L"))])
View(US_new)
combined_list= rbind(US_new, Wimbledon_new, French_new, Aussie_new)
combined_list= rbind(US_new, Wimbledon_new, French_new, Aussie_new)
View(combined_list)
View(combined_list[[1]])
grouped_1=  combined_list %>%
group_by(Winner, Round)%>%
summarise(., max(date))
grouped_1=  combined_list[[1]] %>%
group_by(Winner, Round)%>%
summarise(., max(date))
grouped_1=  combined_list[[1]] %>%
group_by(Winner, Round)%>%
summarise(., max(Date))
grouped_1=  combined_list[[1]] %>%
group_by(Winner, Round)%>%
summarise(., mean(Date))
grouped_1=  combined_list[[1]] %>%
group_by(Winner, Loser)%>%
summarise(., mean(Round))
grouped_1=  combined_list[[1]] %>%
group_by(Winner, Loser)%>%
summarise(., max(Round))
grouped_1=  combined_list[[1]] %>%
group_by(Winner, Loser)%>%
summarise(., first(Round))
grouped_1
View(grouped_1)
grouped_1=  combined_list[[1]] %>%
group_by(Winner, Loser, B365W)%>%
summarise(., first(Round))
View(grouped_1)
grouped_1=  combined_list[[1]] %>%
group_by(Winner, Loser, B365W)%>%
summarise(., last(Round))
View(grouped_1)
grouped_W=  combined_list[[1]] %>%
group_by(Winner, Loser, B365W)%>%
summarise(., last(Round))
View(grouped_L)
View(grouped_W)
grouped_L=  combined_list[[1]] %>%
group_by(Loser, Winner, B365L)%>%
summarise(., last(Round))
View(grouped_L)
grouped_W=  combined_list[[1]] %>%
group_by(Winner, Loser, Date, B365W)%>%
summarise(., last(Round))
View(grouped_W)
grouped_L=  combined_list[[1]] %>%
group_by(Loser, Winner, Date, B365L)%>%
summarise(., last(Round))
View(grouped_L)
grouped_L=  combined_list[[1]] %>%
group_by(Loser, Winner, Date, B365L)%>%
summarise(., nth(Round))
grouped_L=  combined_list[[1]] %>%
group_by(Loser, Winner, Date, B365L)%>%
summarise(., n(Round))
grouped_L=  combined_list[[1]] %>%
group_by(Loser, Winner, Round, B365L)%>%
summarise(., n(Date))
grouped_L=  combined_list[[1]] %>%
group_by(Loser, Winner, Round, B365L)%>%
summarise(., n_distinct(Date))
View(grouped_L)
grouped_L=  combined_list[[1]] %>%
group_by(Loser, Winner, Date, B365L)%>%
summarise(., n_distinct(Round))
View(grouped_L)
combine.lists(combined_list[[1]], combined_list[[2]])
combine.lists([[1]], [[2]])
Data= rbind(US_new, Wimbledon_new, French_new, Aussie_new)
View(combined_list)
View(Data)
View(Data[[2]])
combine.lists(Data[[1]], Data[[2]])
list(Data[[1]], Data[[2]])
list(Data[[1]], Data[[2]], Data[[3]])
new= list(Data[[1]], Data[[2]], Data[[3]])
View(new)
new= for(i in seq(along=Data))
new= for(i in seq(along=Data)
do.call("rbind", Data)
do.call("rbind", Data)
new= do.call("rbind", Data)
View(new)
grouped_W=  new %>%
group_by(Winner, Loser, Date, B365W)%>%
summarise(., last(Round))
View(grouped_W)
grouped_L=  new %>%
group_by(Loser, Winner, Date, B365L)%>%
summarise(., n_distinct(Round))
View(grouped_L)
grouped_W=  new %>%
group_by(Winner, Loser, Date, B365W)%>%
summarise(., first(Round))
View(grouped_W)
grouped_L=  new %>%
group_by(Loser, Winner, Date, B365L)%>%
summarise(., first(Round))
View(grouped_L)
library(readr)
MyData <- read_csv("C:/Users/jhoff/Desktop/Shiny Data Ideas/SHINY PROJECT/MyData.csv")
View(MyData)
new_W=  new %>%
group_by(Winner, Loser, Date, B365W)%>%
summarise(., first(Round))
View(grouped_W)
new_W=  new %>%
group_by(Winner, Loser, Date, B365W)%>%
summarise(., first(Round))
View(new_W)
new_L=  new %>%
group_by(Loser, Winner, Date, B365L)%>%
summarise(., first(Round))
View(new_L)
merge(MyData, new_W)
merge(new_W, new_L)
new_in=merge(new_W, new_L)
View(new_in)
new_W=  new %>%
group_by(Winner, Date, B365W)%>%
summarise(., first(Round))
View(new_W)
new_L=  new %>%
group_by(Loser, Date, B365L)%>%
summarise(., first(Round))
View(new_L)
library(readr)
Match <- read_csv("C:/Users/jhoff/Desktop/Shiny Data Ideas/Tennis Stats/SHINY DATA TO USE/Match.csv")
View(Match)
library(readr)
Player <- read_csv("C:/Users/jhoff/Desktop/Shiny Data Ideas/Tennis Stats/SHINY DATA TO USE/Player.csv/Player.csv")
View(Player)
library(readr)
Stats <- read_csv("C:/Users/jhoff/Desktop/Shiny Data Ideas/Tennis Stats/SHINY DATA TO USE/Stats.csv/Stats.csv")
View(Stats)
library(dplyr)
library (ggplot2)
library(tidyr)
library(stringr)
library(tidyverse)
match= Match
# match2= Match_ordered_tournaments
stats= Stats
player= Player
player_id_stats= stats %>% select(player_id)
player_id_players= player %>% select(1:5)
combined_id= merge(player_id_stats, player_id_players)
match_id= match %>% select(1:2)
stat_match_id= stats %>% select(match_id)
combined_match_id= merge(match_id, stat_match_id)
match_new= merge(combined_match_id, match)
match_new
player_data= combined_id
match_data= match_new
stats_match= merge(match_data, stats)
test2= stats_match %>% distinct()
tennis= merge(test2, player_data)
tennis_edited= tennis %>% distinct()
x= gsub("_W", "_L", tennis_edited$match_id)
tennis_edited$match_id = x
View(tennis_edited)
match_exp_player= tennis_edited %>%
group_by(name, match_id, date, rank, round, match_minutes, sets, tournament, total_pts, winner, hand, avg_odds, max_odds, birthday) %>%
summarise(., max(year))
View(match_exp_player)
match_exp_player = match_exp_player %>% mutate(., experience = rank*0)
for(name in unique(match_exp_player$name)){
match_exp_player[match_exp_player$name == name, ]$experience <- 1:nrow(match_exp_player[match_exp_player$name == name,])
}
tennis_order= match_exp_player
View(tennis_order)
library(readr)
tennis_order <- read_csv("C:/Users/jhoff/Desktop/Shiny Data Ideas/SHINY PROJECT/MyData.csv")
write.csv(tennis_order, 'C:\\Users\\jhoff\\Desktop\\Shiny Data Ideas\\SHINY PROJECT', row.names = FALSE)
write.csv(tennis_order, 'C:\\Users\\jhoff\\Desktop\\Shiny Data Ideas\\SHINY PROJECT', row.names = FALSE)
setwd("C:/Users/jhoff/Desktop/Shiny Data Ideas/SHINY PROJECT")
write.csv(tennis_order, 'C:\\Users\\jhoff\\Desktop\\Shiny Data Ideas\\SHINY PROJECT', row.names = FALSE)
write.csv(tennis_order, 'C:\\Users\\jhoff\\Desktop\\files for merging\\MyData2.csv', row.names = FALSE)
View(tennis_order)
write.csv(match_exp_player, 'C:\\Users\\jhoff\\Desktop\\files for merging\\MyData3.csv', row.names = FALSE)
match_exp_player <- match_exp_player %>% mutate(date = as.Date(date, "%m/%d/%Y"))
new_Wdate <- new_W(date = seq.Date(from =as.Date("01/01/1998", "%d/%m/%Y"),
to=as.Date("01/01/2000", "%d/%m/%Y"), by="day"),
value = sample(seq(5), 731, replace = TRUE))
new_Wdate <- data.frame(date = seq.Date(from =as.Date("01/01/1998", "%d/%m/%Y"),
to=as.Date("01/01/2000", "%d/%m/%Y"), by="day"),
value = sample(seq(5), 731, replace = TRUE))
newWdate
new_Wdate
new_Wdate <- data.frame(new_W = seq.Date(from =as.Date("01/01/1998", "%d/%m/%Y"),
to=as.Date("01/01/2000", "%d/%m/%Y"), by="day"),
value = sample(seq(5), 731, replace = TRUE))
new_Wdate
new_Wdate
View(new_Wdate)
match_exp_player <- match_exp_player %>% mutate(date = as.Date(date, "%m-%d-%Y"))
new_W %>% mutate(date = as.Date(date, "%Y-%m-%d"))
new_W %>% mutate(Date = as.Date(Date, "%Y-%m-%d"))
new_W <- new_W %>%
ungroup(var) %>%
mutate(var = factor(var,levels = c(1,2,3),
labels = c("label1","label2","label3") ) )
match_exp_player <- match_exp_player %>% mutate(date = as.Date(date, "%m-%d-%Y"))
format(as.Date(match_exp_player$date), "%d/%m/%Y")
new_date_exp= format(as.Date(match_exp_player$date), "%d/%m/%Y")
View(new_date_exp)
new_L <- new_L %>% mutate(Date = as.Date(Date, "%Y/%m/%d"))
library(tidyverse)
new_L <- tibble(d = c('2019/3/18','2018/10/29'))
new_L %>%
mutate(
date = lubridate::ymd(d),
year = lubridate::year(date),
month = lubridate::month(date),
day = lubridate::day(date)
)
new_L=  new %>%
group_by(Loser, Date, B365L)%>%
summarise(., first(Round))
both= merge(new_W, new_L)
both
View(both)
both_cut= both %>% distinct()
View(both_cut)
both = stack(new_W, new_L)
both = rbind(new_W, new_L)
data.frame(new_L[1:2], stack(new_L[3:ncol(new_L)]))
View(data.frame(new_L[1:2], stack(new_L[3:ncol(new_L)])))
?stack
?melt
both= merge(new_W, new_L)
both
View(both)
both <- cbind(t(new_L[2, ]), t(new_W))
rownames(both) <- new_L[1, ]
View(both)
both <- cbind(t(new_L), t(new_W))
View(both)
